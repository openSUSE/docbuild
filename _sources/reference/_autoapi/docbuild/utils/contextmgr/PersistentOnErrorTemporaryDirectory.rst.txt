docbuild.utils.contextmgr.PersistentOnErrorTemporaryDirectory
=============================================================

.. py:class:: docbuild.utils.contextmgr.PersistentOnErrorTemporaryDirectory(suffix: str | None = None, prefix: str | None = None, dir: str | pathlib.Path | None = None)

   Bases: :py:obj:`tempfile.TemporaryDirectory`

   .. autoapi-inheritance-diagram:: docbuild.utils.contextmgr.PersistentOnErrorTemporaryDirectory
      :parts: 1


   Delete temporary directory only if no exception occurs.

   It is similar to :class:`tempfile.TemporaryDirectory`, but it does not
   delete the directory if an exception occurs. This is useful for debugging
   or when you want to inspect the contents of the directory after an error.

   .. code-block:: python

       with PersistentOnErrorTemporaryDirectory() as temp_dir:
           # Do something with the temporary directory, it's a Path object

   Optional arguments:
   :param suffix: A str suffix for the directory name.  (see mkdtemp)
   :param prefix: A str prefix for the directory name.  (see mkdtemp)
   :param dir: A directory to create this temp dir in.  (see mkdtemp)


   .. py:method:: __enter__() -> pathlib.Path

      Enter the runtime context and create the temporary directory.

      :returns: Path to the created temporary directory.



   .. py:method:: __exit__(exc_type: ExcType, exc_val: ExcVal, exc_tb: ExcTback) -> None

      Exit the runtime context and delete the directory if no exception occurred.

      :param exc_type: Exception type, if any.
      :param exc_val: Exception instance, if any.
      :param exc_tb: Traceback, if any.


